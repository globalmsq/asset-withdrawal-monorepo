#!/usr/bin/env sh
# This pre-commit hook automatically formats and lints staged files,
# and then re-stages them before committing.
# This ensures all committed code adheres to the project's code style.
# Note: This will modify your staged files in place.
. "$(dirname -- "$0")/_/husky.sh"

# Auto-fix for linting
echo "🔧 Running lint:fix..."
pnpm run lint:fix

# Auto-fix for formatting
echo "💅 Running format:fix..."
pnpm run format:fix

# Check TypeScript types
echo "🔍 Running typecheck..."
pnpm run typecheck

# Re-stage formatted files
echo "📦 Re-staging formatted files..."
git add .